<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Maximum Correlation Portfolio – Master Thesis: Mimicking Portfolio Creation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a202ed359b7240dcab911ed64cbd0efc.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="site_libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="site_libs/dygraphs-1.1.1/shapes.js"></script>
<script src="site_libs/moment-2.8.4/moment.js"></script>
<script src="site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="site_libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Master Thesis: Mimicking Portfolio Creation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Green Sentiment (Stocktwits)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Script2.html" aria-current="page"> 
<span class="menu-text">Maximum Correlation Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Script3.html"> 
<span class="menu-text">De Nard et al.&nbsp;Method</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#maximum-correlation-portfolio" id="toc-maximum-correlation-portfolio" class="nav-link active" data-scroll-target="#maximum-correlation-portfolio"><span class="header-section-number">1</span> Maximum Correlation Portfolio</a>
  <ul class="collapse">
  <li><a href="#theoretical-framework" id="toc-theoretical-framework" class="nav-link" data-scroll-target="#theoretical-framework"><span class="header-section-number">1.1</span> Theoretical Framework</a></li>
  <li><a href="#application-on-the-data" id="toc-application-on-the-data" class="nav-link" data-scroll-target="#application-on-the-data"><span class="header-section-number">1.2</span> Application on the Data</a>
  <ul class="collapse">
  <li><a href="#in-sample" id="toc-in-sample" class="nav-link" data-scroll-target="#in-sample"><span class="header-section-number">1.2.1</span> In Sample</a></li>
  <li><a href="#out-of-sample" id="toc-out-of-sample" class="nav-link" data-scroll-target="#out-of-sample"><span class="header-section-number">1.2.2</span> Out of Sample</a></li>
  </ul></li>
  <li><a href="#the-performance" id="toc-the-performance" class="nav-link" data-scroll-target="#the-performance"><span class="header-section-number">1.3</span> The Performance</a>
  <ul class="collapse">
  <li><a href="#in-sample-1" id="toc-in-sample-1" class="nav-link" data-scroll-target="#in-sample-1"><span class="header-section-number">1.3.1</span> In Sample</a></li>
  <li><a href="#out-of-sample-1" id="toc-out-of-sample-1" class="nav-link" data-scroll-target="#out-of-sample-1"><span class="header-section-number">1.3.2</span> Out of Sample</a></li>
  </ul></li>
  <li><a href="#the-composition-of-the-mimicking-portfolio" id="toc-the-composition-of-the-mimicking-portfolio" class="nav-link" data-scroll-target="#the-composition-of-the-mimicking-portfolio"><span class="header-section-number">1.4</span> The composition of the mimicking portfolio</a></li>
  </ul></li>
  <li><a href="#application-of-the-methodology-of-de-nard-engle-kelly-2024" id="toc-application-of-the-methodology-of-de-nard-engle-kelly-2024" class="nav-link" data-scroll-target="#application-of-the-methodology-of-de-nard-engle-kelly-2024"><span class="header-section-number">2</span> Application of the methodology of De Nard, Engle, Kelly (2024)</a>
  <ul class="collapse">
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="header-section-number">2.1</span> Application</a>
  <ul class="collapse">
  <li><a href="#in-sample-2" id="toc-in-sample-2" class="nav-link" data-scroll-target="#in-sample-2"><span class="header-section-number">2.1.1</span> In Sample</a></li>
  <li><a href="#out-of-sample-2" id="toc-out-of-sample-2" class="nav-link" data-scroll-target="#out-of-sample-2"><span class="header-section-number">2.1.2</span> Out of Sample</a></li>
  </ul></li>
  <li><a href="#the-performance-1" id="toc-the-performance-1" class="nav-link" data-scroll-target="#the-performance-1"><span class="header-section-number">2.2</span> The Performance</a>
  <ul class="collapse">
  <li><a href="#in-sample-3" id="toc-in-sample-3" class="nav-link" data-scroll-target="#in-sample-3"><span class="header-section-number">2.2.1</span> In Sample</a></li>
  <li><a href="#out-of-sample-3" id="toc-out-of-sample-3" class="nav-link" data-scroll-target="#out-of-sample-3"><span class="header-section-number">2.2.2</span> Out of Sample</a></li>
  </ul></li>
  <li><a href="#visualization-of-the-beta-evolution-with-lambda" id="toc-visualization-of-the-beta-evolution-with-lambda" class="nav-link" data-scroll-target="#visualization-of-the-beta-evolution-with-lambda"><span class="header-section-number">2.3</span> Visualization of the <span class="math inline">\(\beta\)</span> evolution with <span class="math inline">\(\lambda\)</span></a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">3</span> Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Maximum Correlation Portfolio</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="maximum-correlation-portfolio" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Maximum Correlation Portfolio</h1>
<p>This method has been developped by <span class="citation" data-cites="huberman1987mimicking">Huberman, Kandel, and Stambaugh (<a href="#ref-huberman1987mimicking" role="doc-biblioref">1987</a>)</span>.</p>
<section id="theoretical-framework" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="theoretical-framework"><span class="header-section-number">1.1</span> Theoretical Framework</h2>
<p><strong>Problem Statement</strong>: Maximize the correlation between portfolio returns and the index:</p>
<p><span class="math display">\[
\max_{\mathbf{w}} \ \rho(R \cdot \mathbf{w}, \text{IGS}),
\]</span></p>
<p>where:</p>
<ul>
<li><p><span class="math inline">\(\mathbf{w} = [w_1, w_2, \dots, w_N]\)</span> is the vector of portfolio weights,</p></li>
<li><p><span class="math inline">\(R\)</span> is the matrix of asset returns,</p></li>
<li><p><span class="math inline">\(\text{IGS}\)</span> are the innovations of the green sentiment,</p></li>
</ul>
<p><strong>Subject to Constraints</strong></p>
<ol type="1">
<li><p>Non-negativity constraint (no short-selling): <span class="math display">\[
w_i \geq 0, \quad \forall i \in [1, N].
\]</span></p></li>
<li><p>Sum of weights approximately equal to 1: <span class="math display">\[
\sum_{i=1}^N w_i \simeq 1.
\]</span></p></li>
</ol>
<hr>
<p><strong>Lagrangian Formulation</strong></p>
<p>Define the Lagrangian as:</p>
<p><span class="math display">\[
\mathcal{L}(\mathbf{w}, \lambda) = \rho(R \cdot \mathbf{w}, \text{IGS}) + \lambda \left(1 - \sum_{i=1}^N w_i \right),
\]</span></p>
<p>where <span class="math inline">\(\lambda\)</span> is the Lagrange multiplier enforcing the equality constraint.</p>
<hr>
<p><strong>First-Order Conditions (FOC)</strong></p>
<ol type="1">
<li><p>For each weight <span class="math inline">\(w_i\)</span>: <span class="math display">\[
\frac{\partial \mathcal{L}}{\partial w_i} = \frac{\partial \rho(R \cdot \mathbf{w}, \text{IGS})}{\partial w_i} - \lambda = 0, \quad \forall i \in [1, N].
\]</span></p></li>
<li><p>For the Lagrange multiplier:</p></li>
</ol>
<p><span class="math display">\[
\frac{\partial \mathcal{L}}{\partial \lambda} = 1 - \sum_{i=1}^N w_i = 0.
\]</span></p>
</section>
<section id="application-on-the-data" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="application-on-the-data"><span class="header-section-number">1.2</span> Application on the Data</h2>
<p>The optimization will be run on the assets which have a correlation coefficients over 0.1 with the innovations of the green sentiments. Otherwise, we could solve the opimization problem on the 1052 assets but the very high number of assets leads to a bad results in the optimization process.</p>
<p>For the optimization, I use the library <code>optimx</code> <a href="https://cran.r-project.org/web/packages/optimx/index.html">see the description on this link</a>. In R, there are several packages for solving optimization problems. However, all of them are complements in the sense that they are each specialzed in one type of optimization (e.g.&nbsp;linear, quadratic, non-linear optimization). As I face non-linear optimization, <code>optimx</code> is the package the most adapted for this task. More specifically, I parameter the package to use the <em>Limited-memory BFGS</em> algorithm (which is in the family of quasi-Newton methods).</p>
<section id="in-sample" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="in-sample"><span class="header-section-number">1.2.1</span> In Sample</h3>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-4698785579c290ccedd2" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4698785579c290ccedd2">{"x":{"attrs":{"title":"IGS Hedge Portfolio - In Sample","xlabel":"Date","ylabel":"Returns","labels":["month","Mimicking Portfolio","Innovations of the Green Sentiment"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"colors":["salmon","skyblue"],"series":{"Mimicking Portfolio":{"axis":"y"},"Innovations of the Green Sentiment":{"axis":"y"}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":false,"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2010-02-01T00:00:00.000Z","2010-03-01T00:00:00.000Z","2010-04-01T00:00:00.000Z","2010-05-01T00:00:00.000Z","2010-06-01T00:00:00.000Z","2010-07-01T00:00:00.000Z","2010-08-01T00:00:00.000Z","2010-09-01T00:00:00.000Z","2010-10-01T00:00:00.000Z","2010-11-01T00:00:00.000Z","2010-12-01T00:00:00.000Z","2011-01-01T00:00:00.000Z","2011-02-01T00:00:00.000Z","2011-03-01T00:00:00.000Z","2011-04-01T00:00:00.000Z","2011-05-01T00:00:00.000Z","2011-06-01T00:00:00.000Z","2011-07-01T00:00:00.000Z","2011-08-01T00:00:00.000Z","2011-09-01T00:00:00.000Z","2011-10-01T00:00:00.000Z","2011-11-01T00:00:00.000Z","2011-12-01T00:00:00.000Z","2012-01-01T00:00:00.000Z","2012-02-01T00:00:00.000Z","2012-03-01T00:00:00.000Z","2012-04-01T00:00:00.000Z","2012-05-01T00:00:00.000Z","2012-06-01T00:00:00.000Z","2012-07-01T00:00:00.000Z","2012-08-01T00:00:00.000Z","2012-09-01T00:00:00.000Z","2012-10-01T00:00:00.000Z","2012-11-01T00:00:00.000Z","2012-12-01T00:00:00.000Z","2013-01-01T00:00:00.000Z","2013-02-01T00:00:00.000Z","2013-03-01T00:00:00.000Z","2013-04-01T00:00:00.000Z","2013-05-01T00:00:00.000Z","2013-06-01T00:00:00.000Z","2013-07-01T00:00:00.000Z","2013-08-01T00:00:00.000Z","2013-09-01T00:00:00.000Z","2013-10-01T00:00:00.000Z","2013-11-01T00:00:00.000Z","2013-12-01T00:00:00.000Z","2014-01-01T00:00:00.000Z","2014-02-01T00:00:00.000Z","2014-03-01T00:00:00.000Z","2014-04-01T00:00:00.000Z","2014-05-01T00:00:00.000Z","2014-06-01T00:00:00.000Z","2014-07-01T00:00:00.000Z","2014-08-01T00:00:00.000Z","2014-09-01T00:00:00.000Z","2014-10-01T00:00:00.000Z","2014-11-01T00:00:00.000Z","2014-12-01T00:00:00.000Z","2015-01-01T00:00:00.000Z","2015-02-01T00:00:00.000Z","2015-03-01T00:00:00.000Z","2015-04-01T00:00:00.000Z","2015-05-01T00:00:00.000Z","2015-06-01T00:00:00.000Z","2015-07-01T00:00:00.000Z","2015-08-01T00:00:00.000Z","2015-09-01T00:00:00.000Z","2015-10-01T00:00:00.000Z","2015-11-01T00:00:00.000Z","2015-12-01T00:00:00.000Z","2016-01-01T00:00:00.000Z","2016-02-01T00:00:00.000Z","2016-03-01T00:00:00.000Z","2016-04-01T00:00:00.000Z","2016-05-01T00:00:00.000Z","2016-06-01T00:00:00.000Z","2016-07-01T00:00:00.000Z","2016-08-01T00:00:00.000Z","2016-09-01T00:00:00.000Z","2016-10-01T00:00:00.000Z","2016-11-01T00:00:00.000Z","2016-12-01T00:00:00.000Z","2017-01-01T00:00:00.000Z","2017-02-01T00:00:00.000Z","2017-03-01T00:00:00.000Z","2017-04-01T00:00:00.000Z","2017-05-01T00:00:00.000Z","2017-06-01T00:00:00.000Z","2017-07-01T00:00:00.000Z","2017-08-01T00:00:00.000Z","2017-09-01T00:00:00.000Z","2017-10-01T00:00:00.000Z","2017-11-01T00:00:00.000Z","2017-12-01T00:00:00.000Z","2018-01-01T00:00:00.000Z","2018-02-01T00:00:00.000Z","2018-03-01T00:00:00.000Z","2018-04-01T00:00:00.000Z","2018-05-01T00:00:00.000Z","2018-06-01T00:00:00.000Z","2018-07-01T00:00:00.000Z","2018-08-01T00:00:00.000Z","2018-09-01T00:00:00.000Z","2018-10-01T00:00:00.000Z"],[0.1106419301772809,0.03007746586649039,0.004361986387676466,-0.06694975887480935,-0.06796296360278052,-0.1475656409988924,-0.008205902854611109,0.09678462773178564,0.02967089103596011,-0.002443522065400192,0.02308075462870377,0.02242069935234755,0.01653107361074625,0.02893653465208974,0.01979072054151973,-0.03380308677396222,-0.01234964808957457,-0.01688432573619661,-0.08314820998463433,-0.08495388635867564,0.05930881200297893,-0.009322911915519257,-0.06992083593887634,0.06242978732472998,0.03013387778965947,0.01160707542110244,-0.0401513765920336,-0.05137909330446286,0.02436317229590966,-0.09217660242827246,0.04371272631609598,0.07713361242468986,0.03786527068067589,-0.002975010715994642,0.03244001963778307,0.02656408851749193,0.008543153314836519,0.06579959520283964,0.003868238291628129,0.07385887008219616,-0.0214612690221821,0.03420332996990878,-0.0004288533299323383,0.05999850977234744,0.01818030388024254,0.02772817879011551,0.02775118621775476,-0.01061340611317085,0.08251927604221139,-0.00830368932173902,-0.03985709552164911,0.0389413406207143,0.04863555435770137,0.02496046374567432,0.08553539497265926,-0.05571217280327892,0.02594233141914731,0.01218742216950101,-0.01150371685289463,-0.0003994566705757072,0.01121572119551093,0.03373823039525611,0.001365119050768178,0.05355950325992329,-0.02428888835402396,-0.03056473735431152,-0.04892383264142124,-0.03117838091682511,0.0936577072746106,0.01675205675666092,-0.01027450866164123,-0.09119903966446352,-0.02662302171137369,0.102706580077364,0.009359409955283435,-0.01109258831987392,0.00389827435797003,0.07524545997362088,-0.005759605736539381,0.02099069391803476,-0.01603024579083483,0.03687664635264146,-0.002397109368542746,-0.01229665723848671,0.04895268917740561,0.03115163155276809,-0.007284102378714668,0.02702451812704992,-0.001833546742915229,-0.02895092795795655,-0.006120019858655363,0.03003564826770617,-0.04377860888447133,0.02884493021055176,0.002655797818906647,0.05473861793768258,-0.02348593900872225,0.002576307541272556,0.03934628070791099,0.05080370474608531,-0.01725486292316098,-0.09728652892457666,0.05648821115588646,-0.03242417501917047,-0.05480113704620897],[0.2073428721071018,-0.2267663167166656,-0.03928644847778254,-0.0653791056294814,0.00654701992207353,-0.3674642264827511,0.07681527945919486,0.01251413285980041,0.07311200519973687,-0.1156647805612432,-0.04647057450636656,-0.03866297378763493,-0.1261890510046895,0.1514693755807753,-0.0544259069854261,-0.02640957838839782,-0.03228315944656332,0.0763569094700467,-0.1254798839946313,0.0002241290506265134,0.006560759066488897,0.05505419622772341,-0.133996367924759,0.05764100513608284,-0.0992619595387432,-0.03507209168628115,-0.07375221132992395,-0.07075966348991074,-0.01100536802484544,-0.1890387897801965,-0.01427379530510953,0.06360430033125936,0.06266300916595213,-0.01896772498372218,-0.00229793119293871,-0.009992406893986033,-0.0868107749532038,-0.01277765084111949,0.0442583323592332,-0.02966799134919733,0.008590433467261099,-0.04541179725299774,-0.02285910307085663,0.09302288566850171,-0.02966509607403489,-0.03681597112151887,-0.01101995695953942,-0.005910959472022387,0.02663768889882348,-0.03159159372427801,-0.04108851867974975,0.03245458985222695,0.004052439094875654,0.01654821370258945,0.01135868268992951,0.01548939257383736,0.02238928853631561,-0.007114690364112303,-0.0411556261796899,0.05820328926030721,-0.08850435963714513,0.06508678769243112,-0.02920351617459496,0.03704499025932931,-0.03977243706773975,0.05292910535427263,-0.04077191279043253,-0.05519483337548331,0.0968023106246301,-0.07724742660580039,0.07360965078676376,-0.05716854041784496,-0.03432997543055354,-0.001287343882836522,-0.02054267251955037,-0.03085699783356857,0.02720256764131586,-0.0370229300242436,0.005416605215284226,0.01780384527070587,0.009789798678579681,-0.003242001128152497,0.0149302322951272,-0.02093102747570963,0.002734211903804323,-0.03267124283429125,-0.01950292962626079,0.03077655071652954,0.04059020754475914,-0.05941164720171042,-0.001065456652066907,-0.02022868073827712,-0.0625550330281652,0.01118886904708161,0.03545341526289199,0.03392577814001461,-0.0317569998614587,-0.02797968538118843,0.01045483449619478,0.03654646540415328,-0.03363778435476401,-0.0549647873821889,0.02855179525676623,-0.0008283308006374335,-0.03591212194978319]],"fixedtz":false,"tzone":"UTC"},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
<p>Mimicking Portfolio Return and IGS - In Sample (Maximum Correlation Portfolio)</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Script2_files/figure-html/MP_MCP_Train_points-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Mimicking Portfolio Return and IGS - In Sample (Maximum Correlation Portfolio)</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="out-of-sample" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="out-of-sample"><span class="header-section-number">1.2.2</span> Out of Sample</h3>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-0efd90c2aa46ec9c45e8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0efd90c2aa46ec9c45e8">{"x":{"attrs":{"title":"IGS Hedge Portfolio - Out of Sample","xlabel":"Date","ylabel":"Returns","labels":["month","Mimicking Portfolio","Innovations of the Green Sentiment"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"colors":["salmon","skyblue"],"series":{"Mimicking Portfolio":{"axis":"y"},"Innovations of the Green Sentiment":{"axis":"y"}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":false,"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2018-11-01T00:00:00.000Z","2018-12-01T00:00:00.000Z","2019-01-01T00:00:00.000Z","2019-02-01T00:00:00.000Z","2019-03-01T00:00:00.000Z","2019-04-01T00:00:00.000Z","2019-05-01T00:00:00.000Z","2019-06-01T00:00:00.000Z","2019-07-01T00:00:00.000Z","2019-08-01T00:00:00.000Z","2019-09-01T00:00:00.000Z","2019-10-01T00:00:00.000Z","2019-11-01T00:00:00.000Z","2019-12-01T00:00:00.000Z","2020-01-01T00:00:00.000Z","2020-02-01T00:00:00.000Z","2020-03-01T00:00:00.000Z","2020-04-01T00:00:00.000Z","2020-05-01T00:00:00.000Z","2020-06-01T00:00:00.000Z","2020-07-01T00:00:00.000Z","2020-08-01T00:00:00.000Z","2020-09-01T00:00:00.000Z","2020-10-01T00:00:00.000Z","2020-11-01T00:00:00.000Z","2020-12-01T00:00:00.000Z","2021-01-01T00:00:00.000Z","2021-02-01T00:00:00.000Z","2021-03-01T00:00:00.000Z","2021-04-01T00:00:00.000Z","2021-05-01T00:00:00.000Z","2021-06-01T00:00:00.000Z","2021-07-01T00:00:00.000Z","2021-08-01T00:00:00.000Z","2021-09-01T00:00:00.000Z","2021-10-01T00:00:00.000Z","2021-11-01T00:00:00.000Z","2021-12-01T00:00:00.000Z","2022-01-01T00:00:00.000Z","2022-02-01T00:00:00.000Z","2022-03-01T00:00:00.000Z","2022-04-01T00:00:00.000Z","2022-05-01T00:00:00.000Z","2022-06-01T00:00:00.000Z","2022-07-01T00:00:00.000Z","2022-08-01T00:00:00.000Z","2022-09-01T00:00:00.000Z","2022-10-01T00:00:00.000Z","2022-11-01T00:00:00.000Z","2022-12-01T00:00:00.000Z","2023-01-01T00:00:00.000Z","2023-02-01T00:00:00.000Z","2023-03-01T00:00:00.000Z","2023-04-01T00:00:00.000Z","2023-05-01T00:00:00.000Z","2023-06-01T00:00:00.000Z","2023-07-01T00:00:00.000Z","2023-08-01T00:00:00.000Z","2023-09-01T00:00:00.000Z","2023-10-01T00:00:00.000Z","2023-11-01T00:00:00.000Z","2023-12-01T00:00:00.000Z","2024-01-01T00:00:00.000Z","2024-02-01T00:00:00.000Z","2024-03-01T00:00:00.000Z","2024-04-01T00:00:00.000Z","2024-05-01T00:00:00.000Z","2024-06-01T00:00:00.000Z","2024-07-01T00:00:00.000Z","2024-08-01T00:00:00.000Z","2024-09-01T00:00:00.000Z"],[0.004848722051667977,-0.1421928703273942,0.09947631433963366,0.009368900210098523,0.02491709184916045,0.01326683302741886,-0.1367636406146472,0.03965765612606761,0.006312871719884584,-0.05810252714984617,0.03195823890529783,0.05567077546588283,0.03681356253830075,-0.006169149844452942,-0.05750142496049284,-0.06798172498733737,-0.4091429502197071,0.1505571566477222,0.08513825940042213,0.04427790570285604,0.05140445250770033,0.03738478962305215,0.01357948200180278,-0.01195179009679362,0.1248284621242431,0.05716874520184932,0.05582403551083689,0.103285101208315,0.04722335339845384,0.0606761259033813,0.02131355942739967,-0.03653284206107069,-0.05913087373322683,-0.02160754280779666,-0.04439839848100618,0.03931161686044941,-0.02019593546416365,0.03984630503518331,-0.06914716439643001,0.02017075213118808,-0.02276550073618833,-0.04857120686200262,-0.02717283317330372,-0.1130589517596211,0.092935747594935,-0.02844567088563731,-0.1377215545918187,0.05893867653078434,0.06915489875791817,-0.07015907529844786,0.1218343455418333,-0.04540252978957884,-0.07068810618074502,-0.0118061741598296,-0.09477873909071913,0.1192600202577323,0.07825738564941015,-0.07069809562819629,-0.0436867437118733,-0.03802483150069205,0.0443524422049957,0.04236612585475139,-0.05293970033374012,0.01421730277192725,-0.01366153277905214,-0.08451977196217958,0.02689154024700654,-0.05110929269368272,0.04419934433114171,-0.0451922582889818,0.1188469054830822],[-0.03578012195858898,0.01199452299585227,-0.002789765546548709,-0.03601203428676256,-0.0591109196192395,0.01815128313135577,0.03742737975675714,-0.009653905358232184,0.08390628989640542,0.02032865423363892,0.003242609865050552,-0.02026985158825838,0.03929188675098118,0.004424579100942946,0.06135044999773109,0.02354185985388066,-0.0589383452926775,0.02288999379032444,0.1155940975877488,0.07060444437650853,0.06178520328466494,0.03576265909146506,0.02316856996306599,0.04688359673046617,0.06805166029177209,0.1540309243404817,0.09930464319266608,0.05436133069906585,0.0595688351677009,0.04560330245395941,-0.05559709211232169,0.06773849616241755,0.05321741624751179,0.03146710177199269,0.06730540391866527,0.07029831840847683,0.08747620792797928,0.05139828223691145,0.04534442532894276,0.1572839274216457,0.01844326769748303,0.01825422781378286,0.02961775590720434,0.0247080556050995,0.01860195294262518,0.06093423911055741,-0.02578116498531477,0.02852277705537572,0.05808088129509052,-0.05913750869533754,0.02544027713220889,0.01283997992927896,-0.0005460422576804846,0.01152287944930237,0.08962352095094095,-0.03609413531305612,-0.02810866735113886,-0.009306779399102849,-0.001951700003609724,0.05062853447586299,0.0286583479321539,0.06480490330471193,-0.05965411237082947,-0.03612731998205135,-0.03206741111048668,0.03255866420832024,0.0216813618548535,0.09477741046276303,0.1787965578902471,0.1522676985733931,-0.003794252690353161]],"fixedtz":false,"tzone":"UTC"},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
<p>Mimicking Portfolio Return and IGS - Out of Sample (Maximum Correlation Portfolio)</p>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Script2_files/figure-html/MP_MCP_Test_points-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Mimicking Portfolio Return and IGS - Out of Sample (Maximum Correlation Portfolio)</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="the-performance" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="the-performance"><span class="header-section-number">1.3</span> The Performance</h2>
<section id="in-sample-1" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="in-sample-1"><span class="header-section-number">1.3.1</span> In Sample</h3>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Performance Metrics of the Hedge Portfolio (In Sample)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Correlation</td>
<td style="text-align: right;">0.5195948</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tracking Error</td>
<td style="text-align: right;">0.0608112</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alpha</td>
<td style="text-align: right;">0.0113296</td>
</tr>
<tr class="even">
<td style="text-align: left;">Beta</td>
<td style="text-align: right;">0.3456336</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.2699788</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Results of the following OLS regression:</p>
<p><span class="math display">\[
R_{MP, t} = \alpha+ \beta \text{IGS} + \epsilon_t
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Regression Results (in sample)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">0.0113296</td>
<td style="text-align: right;">0.0039838</td>
<td style="text-align: right;">2.843885</td>
<td style="text-align: right;">0.005376</td>
</tr>
<tr class="even">
<td style="text-align: left;">train_IGS_aligned$IGS_ts</td>
<td style="text-align: right;">0.3456336</td>
<td style="text-align: right;">0.0560016</td>
<td style="text-align: right;">6.171855</td>
<td style="text-align: right;">0.000000</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="out-of-sample-1" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="out-of-sample-1"><span class="header-section-number">1.3.2</span> Out of Sample</h3>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Performance Metrics of the Hedge Portfolio (Out of Sample)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Correlation</td>
<td style="text-align: right;">0.1835406</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tracking Error</td>
<td style="text-align: right;">0.0894175</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alpha</td>
<td style="text-align: right;">-0.0106818</td>
</tr>
<tr class="even">
<td style="text-align: left;">Beta</td>
<td style="text-align: right;">0.2910259</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.0336871</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Results of the following OLS regression:</p>
<p><span class="math display">\[
R_{MP, t} = \alpha+ \beta \text{IGS} + \epsilon_t
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Regression Results (out of sample)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-0.0106818</td>
<td style="text-align: right;">0.0113928</td>
<td style="text-align: right;">-0.9375952</td>
<td style="text-align: right;">0.3517228</td>
</tr>
<tr class="even">
<td style="text-align: left;">test_IGS_aligned$IGS_ts</td>
<td style="text-align: right;">0.2910259</td>
<td style="text-align: right;">0.1876436</td>
<td style="text-align: right;">1.5509499</td>
<td style="text-align: right;">0.1254886</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="the-composition-of-the-mimicking-portfolio" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="the-composition-of-the-mimicking-portfolio"><span class="header-section-number">1.4</span> The composition of the mimicking portfolio</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-830b5450fd3cc218a9a7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-830b5450fd3cc218a9a7">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"0.144123068890978\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419"],["A","AA","AAP","ABT","ACGL","ACIW","ACN","ADBE","ADEA","ADM","ADSK","AEO","AES","AIFU","AIN","AIR","AKAM","ALGT","ALL","ALNY","AMED","AMGN","AMRX","AMSC","AMT","AMZN","ANDE","ANGO","AOS","APA","ARE","AROC","ASH","ATGE","AWI","AXS","BA","BAC","BAP","BAX","BBY","BDX","BFH","BG","BIDU","BKE","BLK","BLKB","BLX","BMI","BMRN","BMY","BPT","BR","BX","CAAS","CACI","CAG","CAH","CB","CBRE","CBRL","CCI","CDE","CDP","CE","CENX","CF","CGNX","CHDN","CHE","CI","CLF","CLH","CLMT","CLW","CLX","CMC","CMG","CMP","CMPR","CMTL","CNMD","COKE","COLB","COO","COR","COST","CRI","CRL","CSCO","CSGS","CSIQ","CSL","CSX","CTSH","CVLT","CVS","CXW","CYD","CYH","DE","DGICA","DGX","DHR","DLB","DOX","DRI","DTE","DVA","EA","EBF","EDU","EGP","EL","ELME","ELV","ENS","EOG","EPD","EPR","EQT","ESGR","ET","EVR","EWBC","EXP","EXPD","EXPE","EXPO","FCN","FCNCA","FELE","FFBC","FHN","FI","FICO","FIX","FIZZ","FLO","FMC","FOR","FORM","FOSL","FSLR","GAMI","GAP","GATX","GD","GEN","GEO","GFF","GHC","GILD","GIS","GLRE","GNTX","GPRE","GTY","GURE","GVA","GXP","GYRE","H","HAE","HAS","HD","HEI","HGGG","HI","HIG","HLIO","HOLX","HP","HPQ","HSIC","HSII","HST","HUBG","HUM","IART","IBKR","IBM","ICE","ICFI","ICLR","ICUI","IDA","IDCC","IDXX","ILMN","IMKTA","INDB","INGR","IPXL","IRBT","IRM","ISRG","IT","ITRI","ITT","JACK","JBHT","JEF","JJSF","JKHY","JLL","JNJ","K","KAR","KBH","KBR","KDP","KELYA","KFRC","KFY","KR","KRO","KSS","LANC","LCII","LDOS","LEN","LFUS","LH","LII","LIVN","LKQ","LMT","LNW","LOW","LRCX","LSAK","LSTR","LTC","LVS","M","MAA","MAC","MANH","MAS","MASI","MCK","MCY","MD","MDRX","MDT","MELI","MG","MGRC","MHK","MKL","MKTX","MLKN","MLM","MMLP","MMS","MOH","MRK","MRTN","MRVL","MSA","MSTR","MTN","MYGN","NBR","NDSN","NEM","NEOG","NFBK","NFLX","NHC","NHI","NNN","NOC","NPK","NTCT","NTES","NTGR","NTRS","NUE","NVDA","NVR","NX","OC","ODFL","OFIX","OII","OLN","OMI","ORA","ORCL","OSIS","OXY","PBI","PDCO","PEB","PETS","PGR","PIPR","PKG","PLCE","PLD","PNFP","PODD","PRAA","PRGO","PRGS","PZZA","RBCN","RCL","REGN","RGLD","RGP","RGS","RJF","RLI","RMD","RNR","ROCK","ROP","RRC","RS","RVTY","SAFT","SAM","SATS","SBAC","SBUX","SEB","SEIC","SF","SFNC","SHW","SIG","SIGI","SIVBQ","SKT","SKYW","SLAB","SLG","SLGN","SOHU","SPG","SPGI","SPWRQ","SPXC","SRCL","SRDX","SSB","SSD","STE","STLD","STRA","STX","SVC","SXT","SYK","SYY","TCOM","TDG","TECH","TEN","TG","THG","THO","THS","TISI","TJX","TMO","TPC","TPR","TPX","TRC","TRMB","TRV","TXN","TXNM","TYL","UAL","UFPI","UHS","UHT","ULTA","UNF","UNH","UNP","UTHR","UTI","V","VLGEA","VRE","VRTX","VTR","VTRS","WAT","WDC","WDFC","WELL","WERN","WHR","WKC","WLY","WOR","WRB","WRLD","WSO","WST","WTFC","WTS","WW","WWD","WY","WYNN","X","XRAY","ZBH","ZBRA","ZEUS"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.08498613495694317,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.004773150487556489,0,0,0,0,0,0,0,0,0,0.05494791026579042,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.04949195126800004,0,0,0,0,0,0,0,0,0,0,0,0.01047007449790368,0,0,0,0.02526862403979568,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.09541491053447504,0,0.005436599121679275,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.01024035985225929,0,0,0,0.1441230688909771,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.03286597221882132,0,0,0.04565884946981377,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0674419890132419,0,0,0,0,0,0,0,0,0,0,0,0,0,0.03659949945721264,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.005394681528954262,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0723551924648964,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.04224036950893274,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.07284110404861185,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.1394458389230206,0,0,0,0,0,0],["Healthcare","Basic Materials","Consumer Cyclical","Healthcare","Financial Services","Technology","Technology","Technology","Technology","Consumer Defensive","Technology","Consumer Cyclical","Utilities","Financial Services","Consumer Cyclical","Industrials","Technology","Industrials","Financial Services","Healthcare","Healthcare","Healthcare","Healthcare","Industrials","Real Estate","Consumer Cyclical","Consumer Defensive","Healthcare","Industrials","Energy","Real Estate","Energy","Basic Materials","Consumer Defensive","Industrials","Financial Services","Industrials","Financial Services","Financial Services","Healthcare","Consumer Cyclical","Healthcare","Financial Services","Consumer Defensive","Communication Services","Consumer Cyclical","Financial Services","Technology","Financial Services","Technology","Healthcare","Healthcare","Energy","Technology","Financial Services","Consumer Cyclical","Technology","Consumer Defensive","Healthcare","Financial Services","Real Estate","Consumer Cyclical","Real Estate","Basic Materials","Real Estate","Basic Materials","Basic Materials","Basic Materials","Technology","Consumer Cyclical","Healthcare","Healthcare","Basic Materials","Industrials","Energy","Basic Materials","Consumer Defensive","Basic Materials","Consumer Cyclical","Basic Materials","Industrials","Technology","Healthcare","Consumer Defensive","Financial Services","Healthcare","Healthcare","Consumer Defensive","Consumer Cyclical","Healthcare","Technology","Technology","Technology","Industrials","Industrials","Technology","Technology","Healthcare","Industrials","Consumer Cyclical","Healthcare","Industrials","Financial Services","Healthcare","Healthcare","Industrials","Technology","Consumer Cyclical","Utilities","Healthcare","Communication Services","Industrials","Consumer Defensive","Real Estate","Consumer Defensive","Real Estate","Healthcare","Industrials","Energy","Energy","Real Estate","Energy","Financial Services","Energy","Financial Services","Financial Services","Basic Materials","Industrials","Consumer Cyclical","Industrials","Industrials","Financial Services","Industrials","Financial Services","Financial Services","Technology","Technology","Industrials","Consumer Defensive","Consumer Defensive","Basic Materials","Real Estate","Technology","Consumer Cyclical","Technology","Financial Services","Consumer Cyclical","Industrials","Industrials","Technology","Industrials","Industrials","Consumer Defensive","Healthcare","Consumer Defensive","Financial Services","Consumer Cyclical","Basic Materials","Real Estate","Basic Materials","Industrials","Error","Healthcare","Consumer Cyclical","Healthcare","Consumer Cyclical","Consumer Cyclical","Industrials","Error","Industrials","Financial Services","Industrials","Healthcare","Energy","Technology","Healthcare","Industrials","Real Estate","Industrials","Healthcare","Healthcare","Financial Services","Technology","Financial Services","Industrials","Healthcare","Healthcare","Utilities","Technology","Healthcare","Healthcare","Consumer Defensive","Financial Services","Consumer Defensive","Error","Consumer Cyclical","Real Estate","Healthcare","Technology","Technology","Industrials","Consumer Cyclical","Industrials","Financial Services","Consumer Defensive","Technology","Real Estate","Healthcare","Consumer Defensive","Consumer Cyclical","Consumer Cyclical","Industrials","Consumer Defensive","Industrials","Industrials","Industrials","Consumer Defensive","Basic Materials","Consumer Cyclical","Consumer Defensive","Consumer Cyclical","Technology","Consumer Cyclical","Technology","Healthcare","Industrials","Healthcare","Consumer Cyclical","Industrials","Consumer Cyclical","Consumer Cyclical","Technology","Technology","Industrials","Real Estate","Consumer Cyclical","Consumer Cyclical","Real Estate","Real Estate","Technology","Industrials","Healthcare","Healthcare","Financial Services","Healthcare","Healthcare","Healthcare","Consumer Cyclical","Industrials","Industrials","Consumer Cyclical","Financial Services","Financial Services","Consumer Cyclical","Basic Materials","Energy","Industrials","Healthcare","Healthcare","Industrials","Technology","Industrials","Technology","Consumer Cyclical","Healthcare","Energy","Industrials","Basic Materials","Healthcare","Financial Services","Communication Services","Healthcare","Real Estate","Real Estate","Industrials","Industrials","Technology","Communication Services","Technology","Financial Services","Basic Materials","Technology","Consumer Cyclical","Industrials","Industrials","Industrials","Healthcare","Energy","Basic Materials","Healthcare","Utilities","Technology","Technology","Energy","Industrials","Healthcare","Real Estate","Healthcare","Financial Services","Financial Services","Consumer Cyclical","Consumer Cyclical","Real Estate","Financial Services","Healthcare","Financial Services","Healthcare","Technology","Consumer Cyclical","Technology","Consumer Cyclical","Healthcare","Basic Materials","Industrials","Consumer Cyclical","Financial Services","Financial Services","Healthcare","Financial Services","Industrials","Technology","Energy","Basic Materials","Healthcare","Financial Services","Consumer Defensive","Technology","Real Estate","Consumer Cyclical","Industrials","Financial Services","Financial Services","Financial Services","Basic Materials","Consumer Cyclical","Financial Services","Financial Services","Real Estate","Industrials","Technology","Real Estate","Consumer Cyclical","Communication Services","Real Estate","Financial Services","Technology","Industrials","Industrials","Healthcare","Financial Services","Basic Materials","Healthcare","Basic Materials","Consumer Defensive","Technology","Real Estate","Basic Materials","Healthcare","Consumer Defensive","Consumer Cyclical","Industrials","Healthcare","Energy","Industrials","Financial Services","Consumer Cyclical","Consumer Defensive","Industrials","Consumer Cyclical","Healthcare","Industrials","Consumer Cyclical","Consumer Cyclical","Industrials","Technology","Financial Services","Technology","Utilities","Technology","Industrials","Basic Materials","Healthcare","Real Estate","Consumer Cyclical","Industrials","Healthcare","Industrials","Healthcare","Consumer Defensive","Financial Services","Consumer Defensive","Real Estate","Healthcare","Real Estate","Healthcare","Healthcare","Technology","Basic Materials","Real Estate","Industrials","Consumer Cyclical","Energy","Communication Services","Industrials","Financial Services","Financial Services","Industrials","Healthcare","Financial Services","Industrials","Consumer Cyclical","Industrials","Real Estate","Consumer Cyclical","Basic Materials","Healthcare","Healthcare","Technology","Basic Materials"],["Diagnostics &amp; Research","Aluminum","Specialty Retail","Medical Devices","Insurance—Diversified","Software—Infrastructure","Information Technology Services","Software—Infrastructure","Software—Application","Farm Products","Software—Application","Apparel Retail","Utilities—Diversified","Insurance Brokers","Textile Manufacturing","Aerospace &amp; Defense","Software—Infrastructure","Airlines","Insurance—Property &amp; Casualty","Biotechnology","Medical Care Facilities","Drug Manufacturers—General","Drug Manufacturers—Specialty &amp; Generic","Specialty Industrial Machinery","REIT—Specialty","Internet Retail","Food Distribution","Medical Instruments &amp; Supplies","Specialty Industrial Machinery","Oil &amp; Gas E&amp;P","REIT—Office","Oil &amp; Gas Equipment &amp; Services","Specialty Chemicals","Education &amp; Training Services","Building Products &amp; Equipment","Insurance—Specialty","Aerospace &amp; Defense","Banks—Diversified","Banks—Regional","Medical Instruments &amp; Supplies","Specialty Retail","Medical Instruments &amp; Supplies","Credit Services","Farm Products","Internet Content &amp; Information","Apparel Retail","Asset Management","Software—Application","Banks—Regional","Scientific &amp; Technical Instruments","Biotechnology","Drug Manufacturers—General","Oil &amp; Gas Midstream","Information Technology Services","Asset Management","Auto Parts","Information Technology Services","Packaged Foods","Medical Distribution","Insurance—Property &amp; Casualty","Real Estate Services","Restaurants","REIT—Specialty","Gold","REIT—Office","Chemicals","Aluminum","Agricultural Inputs","Scientific &amp; Technical Instruments","Gambling","Medical Care Facilities","Healthcare Plans","Steel","Waste Management","Oil &amp; Gas E&amp;P","Paper &amp; Paper Products","Household &amp; Personal Products","Steel","Restaurants","Other Industrial Metals &amp; Mining","Specialty Business Services","Communication Equipment","Medical Devices","Beverages—Non-Alcoholic","Banks—Regional","Medical Instruments &amp; Supplies","Medical Distribution","Discount Stores","Apparel Retail","Diagnostics &amp; Research","Communication Equipment","Software—Infrastructure","Solar","Building Products &amp; Equipment","Railroads","Information Technology Services","Software—Application","Healthcare Plans","Security &amp; Protection Services","Auto Manufacturers","Medical Care Facilities","Farm &amp; Heavy Construction Machinery","Insurance—Property &amp; Casualty","Diagnostics &amp; Research","Diagnostics &amp; Research","Specialty Business Services","Software—Infrastructure","Restaurants","Utilities—Regulated Electric","Medical Care Facilities","Electronic Gaming &amp; Multimedia","Business Equipment &amp; Supplies","Education &amp; Training Services","REIT—Industrial","Household &amp; Personal Products","REIT—Residential","Healthcare Plans","Electrical Equipment &amp; Parts","Oil &amp; Gas E&amp;P","Oil &amp; Gas Midstream","REIT—Specialty","Oil &amp; Gas E&amp;P","Insurance—Diversified","Oil &amp; Gas Midstream","Capital Markets","Banks—Regional","Building Materials","Integrated Freight &amp; Logistics","Travel Services","Engineering &amp; Construction","Consulting Services","Banks—Regional","Specialty Industrial Machinery","Banks—Regional","Banks—Regional","Information Technology Services","Software—Application","Engineering &amp; Construction","Beverages—Non-Alcoholic","Packaged Foods","Agricultural Inputs","Real Estate—Development","Semiconductor Equipment &amp; Materials","Footwear &amp; Accessories","Solar","Asset Management","Apparel Retail","Rental &amp; Leasing Services","Aerospace &amp; Defense","Software—Infrastructure","Security &amp; Protection Services","Conglomerates","Education &amp; Training Services","Drug Manufacturers—General","Packaged Foods","Insurance—Reinsurance","Auto Parts","Chemicals","REIT—Retail","Chemicals","Engineering &amp; Construction","Error","Biotechnology","Lodging","Medical Instruments &amp; Supplies","Leisure","Home Improvement Retail","Aerospace &amp; Defense","Error","Specialty Industrial Machinery","Insurance—Property &amp; Casualty","Specialty Industrial Machinery","Medical Instruments &amp; Supplies","Oil &amp; Gas Drilling","Computer Hardware","Medical Distribution","Staffing &amp; Employment Services","REIT—Hotel &amp; Motel","Integrated Freight &amp; Logistics","Healthcare Plans","Medical Devices","Capital Markets","Information Technology Services","Financial Data &amp; Stock Exchanges","Consulting Services","Diagnostics &amp; Research","Medical Instruments &amp; Supplies","Utilities—Regulated Electric","Software—Application","Diagnostics &amp; Research","Diagnostics &amp; Research","Grocery Stores","Banks—Regional","Packaged Foods","Error","Furnishings, Fixtures &amp; Appliances","REIT—Specialty","Medical Instruments &amp; Supplies","Information Technology Services","Scientific &amp; Technical Instruments","Specialty Industrial Machinery","Restaurants","Integrated Freight &amp; Logistics","Capital Markets","Packaged Foods","Information Technology Services","Real Estate Services","Drug Manufacturers—General","Packaged Foods","Auto &amp; Truck Dealerships","Residential Construction","Engineering &amp; Construction","Beverages—Non-Alcoholic","Staffing &amp; Employment Services","Staffing &amp; Employment Services","Staffing &amp; Employment Services","Grocery Stores","Specialty Chemicals","Department Stores","Packaged Foods","Recreational Vehicles","Information Technology Services","Residential Construction","Electronic Components","Diagnostics &amp; Research","Building Products &amp; Equipment","Medical Devices","Auto Parts","Aerospace &amp; Defense","Gambling","Home Improvement Retail","Semiconductor Equipment &amp; Materials","Software—Infrastructure","Integrated Freight &amp; Logistics","REIT—Healthcare Facilities","Resorts &amp; Casinos","Department Stores","REIT—Residential","REIT—Retail","Software—Application","Building Products &amp; Equipment","Medical Devices","Medical Distribution","Insurance—Property &amp; Casualty","Medical Care Facilities","Health Information Services","Medical Devices","Internet Retail","Security &amp; Protection Services","Rental &amp; Leasing Services","Furnishings, Fixtures &amp; Appliances","Insurance—Property &amp; Casualty","Capital Markets","Furnishings, Fixtures &amp; Appliances","Building Materials","Oil &amp; Gas Midstream","Specialty Business Services","Healthcare Plans","Drug Manufacturers—General","Trucking","Semiconductors","Security &amp; Protection Services","Software—Application","Resorts &amp; Casinos","Diagnostics &amp; Research","Oil &amp; Gas Drilling","Specialty Industrial Machinery","Gold","Diagnostics &amp; Research","Banks—Regional","Entertainment","Medical Care Facilities","REIT—Healthcare Facilities","REIT—Retail","Aerospace &amp; Defense","Aerospace &amp; Defense","Software—Infrastructure","Electronic Gaming &amp; Multimedia","Communication Equipment","Asset Management","Steel","Semiconductors","Residential Construction","Building Products &amp; Equipment","Building Products &amp; Equipment","Trucking","Medical Devices","Oil &amp; Gas Equipment &amp; Services","Chemicals","Medical Distribution","Utilities—Renewable","Software—Infrastructure","Electronic Components","Oil &amp; Gas E&amp;P","Integrated Freight &amp; Logistics","Medical Distribution","REIT—Hotel &amp; Motel","Pharmaceutical Retailers","Insurance—Property &amp; Casualty","Capital Markets","Packaging &amp; Containers","Apparel Manufacturing","REIT—Industrial","Banks—Regional","Medical Devices","Credit Services","Drug Manufacturers—Specialty &amp; Generic","Software—Infrastructure","Restaurants","Semiconductor Equipment &amp; Materials","Travel Services","Biotechnology","Gold","Consulting Services","Personal Services","Asset Management","Insurance—Property &amp; Casualty","Medical Instruments &amp; Supplies","Insurance—Reinsurance","Building Products &amp; Equipment","Software—Application","Oil &amp; Gas E&amp;P","Steel","Diagnostics &amp; Research","Insurance—Property &amp; Casualty","Beverages—Brewers","Communication Equipment","REIT—Specialty","Restaurants","Conglomerates","Asset Management","Capital Markets","Banks—Regional","Specialty Chemicals","Luxury Goods","Insurance—Property &amp; Casualty","Banks—Regional","REIT—Retail","Airlines","Semiconductors","REIT—Office","Packaging &amp; Containers","Electronic Gaming &amp; Multimedia","REIT—Retail","Financial Data &amp; Stock Exchanges","Solar","Building Products &amp; Equipment","Waste Management","Medical Devices","Banks—Regional","Lumber &amp; Wood Production","Medical Devices","Steel","Education &amp; Training Services","Computer Hardware","REIT—Hotel &amp; Motel","Specialty Chemicals","Medical Devices","Food Distribution","Travel Services","Aerospace &amp; Defense","Biotechnology","Oil &amp; Gas Midstream","Metal Fabrication","Insurance—Property &amp; Casualty","Recreational Vehicles","Packaged Foods","Specialty Business Services","Apparel Retail","Diagnostics &amp; Research","Engineering &amp; Construction","Luxury Goods","Furnishings, Fixtures &amp; Appliances","Conglomerates","Scientific &amp; Technical Instruments","Insurance—Property &amp; Casualty","Semiconductors","Utilities—Regulated Electric","Software—Application","Airlines","Lumber &amp; Wood Production","Medical Care Facilities","REIT—Healthcare Facilities","Specialty Retail","Specialty Business Services","Healthcare Plans","Railroads","Biotechnology","Education &amp; Training Services","Credit Services","Grocery Stores","REIT—Residential","Biotechnology","REIT—Healthcare Facilities","Drug Manufacturers—Specialty &amp; Generic","Diagnostics &amp; Research","Computer Hardware","Specialty Chemicals","REIT—Healthcare Facilities","Trucking","Furnishings, Fixtures &amp; Appliances","Oil &amp; Gas Refining &amp; Marketing","Publishing","Metal Fabrication","Insurance—Property &amp; Casualty","Credit Services","Industrial Distribution","Medical Instruments &amp; Supplies","Banks—Regional","Specialty Industrial Machinery","Personal Services","Aerospace &amp; Defense","REIT—Specialty","Resorts &amp; Casinos","Steel","Medical Instruments &amp; Supplies","Medical Devices","Communication Equipment","Steel"],["Agilent Technologies, Inc.","Alcoa Corporation","Advance Auto Parts, Inc.","Abbott Laboratories","Arch Capital Group Ltd.","ACI Worldwide, Inc.","Accenture plc","Adobe Inc.","Adeia Inc.","Archer-Daniels-Midland Company","Autodesk, Inc.","American Eagle Outfitters, Inc.","The AES Corporation","AIX Inc.","Albany International Corp.","AAR Corp.","Akamai Technologies, Inc.","Allegiant Travel Company","The Allstate Corporation","Alnylam Pharmaceuticals, Inc.","Amedisys, Inc.","Amgen Inc.","Amneal Pharmaceuticals, Inc.","American Superconductor Corporation","American Tower Corporation","Amazon.com, Inc.","The Andersons, Inc.","AngioDynamics, Inc.","A. O. Smith Corporation","APA Corporation","Alexandria Real Estate Equities, Inc.","Archrock, Inc.","Ashland Inc.","Adtalem Global Education Inc.","Armstrong World Industries, Inc.","AXIS Capital Holdings Limited","The Boeing Company","Bank of America Corporation","Credicorp Ltd.","Baxter International Inc.","Best Buy Co., Inc.","Becton, Dickinson and Company","Bread Financial Holdings, Inc.","Bunge Global SA","Baidu, Inc.","The Buckle, Inc.","BlackRock, Inc.","Blackbaud, Inc.","Banco Latinoamericano de Comercio Exterior, S. A.","Badger Meter, Inc.","BioMarin Pharmaceutical Inc.","Bristol-Myers Squibb Company","BP Prudhoe Bay Royalty Trust","Broadridge Financial Solutions, Inc.","Blackstone Inc.","China Automotive Systems, Inc.","CACI International Inc","Conagra Brands, Inc.","Cardinal Health, Inc.","Chubb Limited","CBRE Group, Inc.","Cracker Barrel Old Country Store, Inc.","Crown Castle Inc.","Coeur Mining, Inc.","COPT Defense Properties","Celanese Corporation","Century Aluminum Company","CF Industries Holdings, Inc.","Cognex Corporation","Churchill Downs Incorporated","Chemed Corporation","The Cigna Group","Cleveland-Cliffs Inc.","Clean Harbors, Inc.","Calumet, Inc.","Clearwater Paper Corporation","The Clorox Company","Commercial Metals Company","Chipotle Mexican Grill, Inc.","Compass Minerals International, Inc.","Cimpress plc","Comtech Telecommunications Corp.","CONMED Corporation","Coca-Cola Consolidated, Inc.","Columbia Banking System, Inc.","The Cooper Companies, Inc.","Cencora, Inc.","Costco Wholesale Corporation","Carter's, Inc.","Charles River Laboratories International, Inc.","Cisco Systems, Inc.","CSG Systems International, Inc.","Canadian Solar Inc.","Carlisle Companies Incorporated","CSX Corporation","Cognizant Technology Solutions Corporation","Commvault Systems, Inc.","CVS Health Corporation","CoreCivic, Inc.","China Yuchai International Limited","Community Health Systems, Inc.","Deere &amp; Company","Donegal Group Inc.","Quest Diagnostics Incorporated","Danaher Corporation","Dolby Laboratories, Inc.","Amdocs Limited","Darden Restaurants, Inc.","DTE Energy Company","DaVita Inc.","Electronic Arts Inc.","Ennis, Inc.","New Oriental Education &amp; Technology Group Inc.","EastGroup Properties, Inc.","The Estée Lauder Companies Inc.","Elme Communities","Elevance Health, Inc.","EnerSys","EOG Resources, Inc.","Enterprise Products Partners L.P.","EPR Properties","EQT Corporation","Enstar Group Limited","Energy Transfer LP","Evercore Inc.","East West Bancorp, Inc.","Eagle Materials Inc.","Expeditors International of Washington, Inc.","Expedia Group, Inc.","Exponent, Inc.","FTI Consulting, Inc.","First Citizens BancShares, Inc.","Franklin Electric Co., Inc.","First Financial Bancorp.","First Horizon Corporation","Fiserv, Inc.","Fair Isaac Corporation","Comfort Systems USA, Inc.","National Beverage Corp.","Flowers Foods, Inc.","FMC Corporation","Forestar Group Inc.","FormFactor, Inc.","Fossil Group, Inc.","First Solar, Inc.","GAMCO Investors, Inc.","The Gap, Inc.","GATX Corporation","General Dynamics Corporation","Gen Digital Inc.","The GEO Group, Inc.","Griffon Corporation","Graham Holdings Company","Gilead Sciences, Inc.","General Mills, Inc.","Greenlight Capital Re, Ltd.","Gentex Corporation","Green Plains Inc.","Getty Realty Corp.","Gulf Resources, Inc.","Granite Construction Incorporated","Name Not Found","Gyre Therapeutics, Inc.","Hyatt Hotels Corporation","Haemonetics Corporation","Hasbro, Inc.","The Home Depot, Inc.","HEICO Corporation","hhgregg, Inc.","Hillenbrand, Inc.","The Hartford Financial Services Group, Inc.","Helios Technologies, Inc.","Hologic, Inc.","Helmerich &amp; Payne, Inc.","HP Inc.","Henry Schein, Inc.","Heidrick &amp; Struggles International, Inc.","Host Hotels &amp; Resorts, Inc.","Hub Group, Inc.","Humana Inc.","Integra LifeSciences Holdings Corporation","Interactive Brokers Group, Inc.","International Business Machines Corporation","Intercontinental Exchange, Inc.","ICF International, Inc.","ICON Public Limited Company","ICU Medical, Inc.","IDACORP, Inc.","InterDigital, Inc.","IDEXX Laboratories, Inc.","Illumina, Inc.","Ingles Markets, Incorporated","Independent Bank Corp.","Ingredion Incorporated","Name Not Found","iRobot Corporation","Iron Mountain Incorporated","Intuitive Surgical, Inc.","Gartner, Inc.","Itron, Inc.","ITT Inc.","Jack in the Box Inc.","J.B. Hunt Transport Services, Inc.","Jefferies Financial Group Inc.","J&amp;J Snack Foods Corp.","Jack Henry &amp; Associates, Inc.","Jones Lang LaSalle Incorporated","Johnson &amp; Johnson","Kellanova","OPENLANE, Inc.","KB Home","KBR, Inc.","Keurig Dr Pepper Inc.","Kelly Services, Inc.","Kforce Inc.","Korn Ferry","The Kroger Co.","Kronos Worldwide, Inc.","Kohl's Corporation","Lancaster Colony Corporation","LCI Industries","Leidos Holdings, Inc.","Lennar Corporation","Littelfuse, Inc.","Labcorp Holdings Inc.","Lennox International Inc.","LivaNova PLC","LKQ Corporation","Lockheed Martin Corporation","Light &amp; Wonder, Inc.","Lowe's Companies, Inc.","Lam Research Corporation","Lesaka Technologies, Inc.","Landstar System, Inc.","LTC Properties, Inc.","Las Vegas Sands Corp.","Macy's, Inc.","Mid-America Apartment Communities, Inc.","The Macerich Company","Manhattan Associates, Inc.","Masco Corporation","Masimo Corporation","McKesson Corporation","Mercury General Corporation","Pediatrix Medical Group, Inc.","Veradigm Inc.","Medtronic plc","MercadoLibre, Inc.","Mistras Group, Inc.","McGrath RentCorp","Mohawk Industries, Inc.","Markel Group Inc.","MarketAxess Holdings Inc.","MillerKnoll, Inc.","Martin Marietta Materials, Inc.","Martin Midstream Partners L.P.","Maximus, Inc.","Molina Healthcare, Inc.","Merck &amp; Co., Inc.","Marten Transport, Ltd.","Marvell Technology, Inc.","MSA Safety Incorporated","MicroStrategy Incorporated","Vail Resorts, Inc.","Myriad Genetics, Inc.","Nabors Industries Ltd.","Nordson Corporation","Newmont Corporation","Neogen Corporation","Northfield Bancorp, Inc. (Staten Island, NY)","Netflix, Inc.","National HealthCare Corporation","National Health Investors, Inc.","NNN REIT, Inc.","Northrop Grumman Corporation","National Presto Industries, Inc.","NetScout Systems, Inc.","NetEase, Inc.","NETGEAR, Inc.","Northern Trust Corporation","Nucor Corporation","NVIDIA Corporation","NVR, Inc.","Quanex Building Products Corporation","Owens Corning","Old Dominion Freight Line, Inc.","Orthofix Medical Inc.","Oceaneering International, Inc.","Olin Corporation","Owens &amp; Minor, Inc.","Ormat Technologies, Inc.","Oracle Corporation","OSI Systems, Inc.","Occidental Petroleum Corporation","Pitney Bowes Inc.","Patterson Companies, Inc.","Pebblebrook Hotel Trust","PetMed Express, Inc.","The Progressive Corporation","Piper Sandler Companies","Packaging Corporation of America","The Children's Place, Inc.","Prologis, Inc.","Pinnacle Financial Partners, Inc.","Insulet Corporation","PRA Group, Inc.","Perrigo Company plc","Progress Software Corporation","Papa John's International, Inc.","Rubicon Technology, Inc.","Royal Caribbean Cruises Ltd.","Regeneron Pharmaceuticals, Inc.","Royal Gold, Inc.","Resources Connection, Inc.","Regis Corporation","Raymond James Financial, Inc.","RLI Corp.","ResMed Inc.","RenaissanceRe Holdings Ltd.","Gibraltar Industries, Inc.","Roper Technologies, Inc.","Range Resources Corporation","Reliance, Inc.","Revvity, Inc.","Safety Insurance Group, Inc.","The Boston Beer Company, Inc.","EchoStar Corporation","SBA Communications Corporation","Starbucks Corporation","Seaboard Corporation","SEI Investments Company","Stifel Financial Corp.","Simmons First National Corporation","The Sherwin-Williams Company","Signet Jewelers Limited","Selective Insurance Group, Inc.","SVB Financial Group","Tanger Inc.","SkyWest, Inc.","Silicon Laboratories Inc.","SL Green Realty Corp.","Silgan Holdings Inc.","Sohu.com Limited","Simon Property Group, Inc.","S&amp;P Global Inc.","SunPower Corporation","SPX Technologies, Inc.","Stericycle, Inc.","Surmodics, Inc.","SouthState Corporation","Simpson Manufacturing Co., Inc.","STERIS plc","Steel Dynamics, Inc.","Strategic Education, Inc.","Seagate Technology Holdings plc","Service Properties Trust","Sensient Technologies Corporation","Stryker Corporation","Sysco Corporation","Trip.com Group Limited","TransDigm Group Incorporated","Bio-Techne Corporation","Tsakos Energy Navigation Limited","Tredegar Corporation","The Hanover Insurance Group, Inc.","THOR Industries, Inc.","TreeHouse Foods, Inc.","Team, Inc.","The TJX Companies, Inc.","Thermo Fisher Scientific Inc.","Tutor Perini Corporation","Tapestry, Inc.","Tempur Sealy International, Inc.","Tejon Ranch Co.","Trimble Inc.","The Travelers Companies, Inc.","Texas Instruments Incorporated","TXNM Energy, Inc.","Tyler Technologies, Inc.","United Airlines Holdings, Inc.","UFP Industries, Inc.","Universal Health Services, Inc.","Universal Health Realty Income Trust","Ulta Beauty, Inc.","UniFirst Corporation","UnitedHealth Group Incorporated","Union Pacific Corporation","United Therapeutics Corporation","Universal Technical Institute, Inc.","Visa Inc.","Village Super Market, Inc.","Veris Residential, Inc.","Vertex Pharmaceuticals Incorporated","Ventas, Inc.","Viatris Inc.","Waters Corporation","Western Digital Corporation","WD-40 Company","Welltower Inc.","Werner Enterprises, Inc.","Whirlpool Corporation","World Kinect Corporation","John Wiley &amp; Sons, Inc.","Worthington Enterprises, Inc.","W. R. Berkley Corporation","World Acceptance Corporation","Watsco, Inc.","West Pharmaceutical Services, Inc.","Wintrust Financial Corporation","Watts Water Technologies, Inc.","WW International, Inc.","Woodward, Inc.","Weyerhaeuser Company","Wynn Resorts, Limited","United States Steel Corporation","DENTSPLY SIRONA Inc.","Zimmer Biomet Holdings, Inc.","Zebra Technologies Corporation","Olympic Steel, Inc."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Ticker<\/th>\n      <th>Weight<\/th>\n      <th>Sector<\/th>\n      <th>Industry<\/th>\n      <th>Name<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Ticker","targets":1},{"name":"Weight","targets":2},{"name":"Sector","targets":3},{"name":"Industry","targets":4},{"name":"Name","targets":5}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<p>Composition of the portfolio (Maximum Correlation Portfolio)</p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a83c6b31a989708beba8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a83c6b31a989708beba8">{"x":{"visdat":{"6f055ecc4131":["function () ","plotlyVisDat"]},"cur_data":"6f055ecc4131","attrs":{"6f055ecc4131":{"labels":{},"values":{},"textinfo":"label+percent","hoverinfo":"label+percent","title":"Sector Composition of the <br /> Mimicking Portfolio","showlegend":true,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["Basic Materials","Communication Services","Consumer Cyclical","Consumer Defensive","Energy","Error","Financial Services","Healthcare","Industrials","Real Estate","Technology","Utilities"],"values":[0.14951775041993137,0,0.21001047250830418,0.092710613053037585,0.0047731504875564885,0,0,0.17748484373622886,0.11114367538911245,0.19439374918881108,0.049491951268000038,0.010470074497903681],"textinfo":"label+percent","hoverinfo":["label+percent","label+percent","label+percent","label+percent","label+percent","label+percent","label+percent","label+percent","label+percent","label+percent","label+percent","label+percent"],"title":"Sector Composition of the <br /> Mimicking Portfolio","showlegend":true,"type":"pie","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Sector Composition of the Mimicking Portfolio (Maximum Correlation Portfolio)</p>
</div>
</div>
</section>
</section>
<section id="application-of-the-methodology-of-de-nard-engle-kelly-2024" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Application of the methodology of De Nard, Engle, Kelly (2024)</h1>
<p>This method was developped by <span class="citation" data-cites="de2024factor">De Nard, Engle, and Kelly (<a href="#ref-de2024factor" role="doc-biblioref">2024</a>)</span> on daily data. As I use this methodology on monthly data, I adapt their method to this frequency. Namely, the authors used a rolling regression (as the follwing one), instead I use a simple regression due to the low frequency of my data.</p>
<p>The <strong>first step</strong> is to run this regression on the <span class="math inline">\(N\)</span> assets in order to extract the <span class="math inline">\(\beta\)</span> of each assets <span class="math inline">\(i\)</span>. <span class="math display">\[
r_{i,t} = \hat{\beta}_i IGS_t + \hat{\gamma}_i' \text{Factors}_t + \hat{\epsilon}_{i,t}
\]</span> The <strong>second step</strong> is to generate a signal based on the extracted <span class="math inline">\(\beta\)</span>, the authors propose three different methods to compute it. However, the most efficient one according to them is the following one:</p>
<p><span class="math display">\[
\tilde{\beta} = \max (\hat{\beta},0)
\]</span></p>
<p><span class="math display">\[
b^{t-stat} = \frac{\tilde{\beta}^{t-stat}}{\sum_{i=1}^N \tilde{\beta}_i^{t-stat}} \ ; \ \tilde{\beta}_i^{t-stat} = \frac{\tilde{\beta}_i^2}{\hat{\sigma}_i^{HC3}} \ ; \ \tilde{\beta}^{t-stat} = (\tilde{\beta}_1^{t-stat}, \ldots , \tilde{\beta}_N^{t-stat})'
\]</span> Finally, the <strong>third step</strong> is to solve this opitmization problem for finding the optimal weights to eventually build the portfolio.</p>
<p><span class="math display">\[
\min_w w'\hat{\Sigma}w - \lambda w'b^{t-stat} \\
\]</span></p>
<p><span class="math display">\[
(1) \ \ \text{u.c.}\ w_i \geq 0 \ , \ \forall i \in [1,N] \ \ (2) \ \ \text{u.c.} \ \sum w_i = 1
\]</span></p>
<p>Here <span class="math inline">\(\lambda\)</span> is a parameter to add more weights on the signal during the optimization. If <span class="math inline">\(\lambda \rightarrow \infty\)</span> the optimization problem will only take into account the signal and not the covariance matrix, which will lead to investing only in assets which have the biggest <span class="math inline">\(b_i^{t-stat}\)</span>. Conversely, if <span class="math inline">\(\lambda=0\)</span>, the optimization solution will be the constrained minimum-variance portfolio without any signal information.</p>
<section id="application" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="application"><span class="header-section-number">2.1</span> Application</h2>
<section id="in-sample-2" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="in-sample-2"><span class="header-section-number">2.1.1</span> In Sample</h3>
<div class="cell">
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-a4af16a8178f0ee65f16" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a4af16a8178f0ee65f16">{"x":{"attrs":{"title":"Returns of the Mimicking Portfolio and the IGS","xlabel":"Date","ylabel":"Returns","labels":["month","Mimicking Portfolio","Innovations of the Green Sentiment"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"colors":["salmon","skyblue"],"series":{"Mimicking Portfolio":{"axis":"y"},"Innovations of the Green Sentiment":{"axis":"y"}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":false,"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2010-02-01T00:00:00.000Z","2010-03-01T00:00:00.000Z","2010-04-01T00:00:00.000Z","2010-05-01T00:00:00.000Z","2010-06-01T00:00:00.000Z","2010-07-01T00:00:00.000Z","2010-08-01T00:00:00.000Z","2010-09-01T00:00:00.000Z","2010-10-01T00:00:00.000Z","2010-11-01T00:00:00.000Z","2010-12-01T00:00:00.000Z","2011-01-01T00:00:00.000Z","2011-02-01T00:00:00.000Z","2011-03-01T00:00:00.000Z","2011-04-01T00:00:00.000Z","2011-05-01T00:00:00.000Z","2011-06-01T00:00:00.000Z","2011-07-01T00:00:00.000Z","2011-08-01T00:00:00.000Z","2011-09-01T00:00:00.000Z","2011-10-01T00:00:00.000Z","2011-11-01T00:00:00.000Z","2011-12-01T00:00:00.000Z","2012-01-01T00:00:00.000Z","2012-02-01T00:00:00.000Z","2012-03-01T00:00:00.000Z","2012-04-01T00:00:00.000Z","2012-05-01T00:00:00.000Z","2012-06-01T00:00:00.000Z","2012-07-01T00:00:00.000Z","2012-08-01T00:00:00.000Z","2012-09-01T00:00:00.000Z","2012-10-01T00:00:00.000Z","2012-11-01T00:00:00.000Z","2012-12-01T00:00:00.000Z","2013-01-01T00:00:00.000Z","2013-02-01T00:00:00.000Z","2013-03-01T00:00:00.000Z","2013-04-01T00:00:00.000Z","2013-05-01T00:00:00.000Z","2013-06-01T00:00:00.000Z","2013-07-01T00:00:00.000Z","2013-08-01T00:00:00.000Z","2013-09-01T00:00:00.000Z","2013-10-01T00:00:00.000Z","2013-11-01T00:00:00.000Z","2013-12-01T00:00:00.000Z","2014-01-01T00:00:00.000Z","2014-02-01T00:00:00.000Z","2014-03-01T00:00:00.000Z","2014-04-01T00:00:00.000Z","2014-05-01T00:00:00.000Z","2014-06-01T00:00:00.000Z","2014-07-01T00:00:00.000Z","2014-08-01T00:00:00.000Z","2014-09-01T00:00:00.000Z","2014-10-01T00:00:00.000Z","2014-11-01T00:00:00.000Z","2014-12-01T00:00:00.000Z","2015-01-01T00:00:00.000Z","2015-02-01T00:00:00.000Z","2015-03-01T00:00:00.000Z","2015-04-01T00:00:00.000Z","2015-05-01T00:00:00.000Z","2015-06-01T00:00:00.000Z","2015-07-01T00:00:00.000Z","2015-08-01T00:00:00.000Z","2015-09-01T00:00:00.000Z","2015-10-01T00:00:00.000Z","2015-11-01T00:00:00.000Z","2015-12-01T00:00:00.000Z","2016-01-01T00:00:00.000Z","2016-02-01T00:00:00.000Z","2016-03-01T00:00:00.000Z","2016-04-01T00:00:00.000Z","2016-05-01T00:00:00.000Z","2016-06-01T00:00:00.000Z","2016-07-01T00:00:00.000Z","2016-08-01T00:00:00.000Z","2016-09-01T00:00:00.000Z","2016-10-01T00:00:00.000Z","2016-11-01T00:00:00.000Z","2016-12-01T00:00:00.000Z","2017-01-01T00:00:00.000Z","2017-02-01T00:00:00.000Z","2017-03-01T00:00:00.000Z","2017-04-01T00:00:00.000Z","2017-05-01T00:00:00.000Z","2017-06-01T00:00:00.000Z","2017-07-01T00:00:00.000Z","2017-08-01T00:00:00.000Z","2017-09-01T00:00:00.000Z","2017-10-01T00:00:00.000Z","2017-11-01T00:00:00.000Z","2017-12-01T00:00:00.000Z","2018-01-01T00:00:00.000Z","2018-02-01T00:00:00.000Z","2018-03-01T00:00:00.000Z","2018-04-01T00:00:00.000Z","2018-05-01T00:00:00.000Z","2018-06-01T00:00:00.000Z","2018-07-01T00:00:00.000Z","2018-08-01T00:00:00.000Z","2018-09-01T00:00:00.000Z","2018-10-01T00:00:00.000Z"],[0.07914625393226661,0.01326627410376653,-0.01448865975103644,-0.07608675388108228,-0.04288838218500241,-0.03337790962806612,-0.03979654604591618,0.1171807251572057,0.02746552869682788,-0.009352210838167636,0.07965985551496489,0.01223546205206317,0.01809317406122561,0.03498788685647611,-0.005272110611555083,-0.02442551069301442,-0.01512075918047398,-0.02730035621263452,-0.1089382345332263,-0.116167064841466,0.1095104726603851,0.01837235728968486,-0.01621587798756501,0.07223046232812597,0.001873439583095597,0.01834686255174276,-0.06174493186686403,-0.0840897424151925,0.05406221956475121,-0.09257014906411994,0.03150848726937434,0.06771884109432527,0.008139659202249303,0.002882771954227559,0.03049817094717198,0.04450922099054072,0.004739300591060005,0.05366071658444029,0.002585653424918955,0.06450150966669495,-0.01308146852058112,0.04531481084352315,-0.02884656665703276,0.06869707304582597,0.02476611493813589,0.02006229407319494,0.01345005598434389,-0.01906781975593211,0.05957749505276162,0.02428914700984821,-0.02359894867232655,0.02241167205103321,0.0231821418881583,0.005597108552033738,0.05542308378140577,-0.05406977409277799,0.05567253289989773,-0.01323308862457896,0.005333118046692957,-0.009541037950932044,0.03950879408784116,0.04572348892472135,-0.02105681620039816,0.02625506529539523,-0.005807812664544984,-0.02010725485872191,-0.0677598138461621,-0.04948311819957656,0.1142498215815741,0.02899636946862522,-0.03583520135999917,-0.08756012527432194,-0.04240936801096166,0.07723563802401412,0.006184209440840879,0.01760541144029604,-0.01526155465034435,0.05485526848965722,-0.008393826918941381,0.002056320180944053,-0.05305829884585971,0.07980495944478398,0.04004626764588602,-0.01005054840389183,0.04971697894716484,-0.000102485281531659,-0.01276104373459818,-0.01677922352162879,0.03313832460558652,-0.01676775845472861,-0.02191617620340366,0.01987587747103021,0.008389465885633168,0.01367357014991009,9.138169511074243e-05,0.0653639184296966,-0.04126736212445591,-0.001211507171850748,0.03529673633686267,0.03544772486853078,-0.01726742607053865,0.02049940544563974,0.02388682028456316,-0.03782846850875252,-0.1122100361050777],[0.2073428721071018,-0.2267663167166656,-0.03928644847778254,-0.0653791056294814,0.00654701992207353,-0.3674642264827511,0.07681527945919486,0.01251413285980041,0.07311200519973687,-0.1156647805612432,-0.04647057450636656,-0.03866297378763493,-0.1261890510046895,0.1514693755807753,-0.0544259069854261,-0.02640957838839782,-0.03228315944656332,0.0763569094700467,-0.1254798839946313,0.0002241290506265134,0.006560759066488897,0.05505419622772341,-0.133996367924759,0.05764100513608284,-0.0992619595387432,-0.03507209168628115,-0.07375221132992395,-0.07075966348991074,-0.01100536802484544,-0.1890387897801965,-0.01427379530510953,0.06360430033125936,0.06266300916595213,-0.01896772498372218,-0.00229793119293871,-0.009992406893986033,-0.0868107749532038,-0.01277765084111949,0.0442583323592332,-0.02966799134919733,0.008590433467261099,-0.04541179725299774,-0.02285910307085663,0.09302288566850171,-0.02966509607403489,-0.03681597112151887,-0.01101995695953942,-0.005910959472022387,0.02663768889882348,-0.03159159372427801,-0.04108851867974975,0.03245458985222695,0.004052439094875654,0.01654821370258945,0.01135868268992951,0.01548939257383736,0.02238928853631561,-0.007114690364112303,-0.0411556261796899,0.05820328926030721,-0.08850435963714513,0.06508678769243112,-0.02920351617459496,0.03704499025932931,-0.03977243706773975,0.05292910535427263,-0.04077191279043253,-0.05519483337548331,0.0968023106246301,-0.07724742660580039,0.07360965078676376,-0.05716854041784496,-0.03432997543055354,-0.001287343882836522,-0.02054267251955037,-0.03085699783356857,0.02720256764131586,-0.0370229300242436,0.005416605215284226,0.01780384527070587,0.009789798678579681,-0.003242001128152497,0.0149302322951272,-0.02093102747570963,0.002734211903804323,-0.03267124283429125,-0.01950292962626079,0.03077655071652954,0.04059020754475914,-0.05941164720171042,-0.001065456652066907,-0.02022868073827712,-0.0625550330281652,0.01118886904708161,0.03545341526289199,0.03392577814001461,-0.0317569998614587,-0.02797968538118843,0.01045483449619478,0.03654646540415328,-0.03363778435476401,-0.0549647873821889,0.02855179525676623,-0.0008283308006374335,-0.03591212194978319]],"fixedtz":false,"tzone":"UTC"},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="out-of-sample-2" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="out-of-sample-2"><span class="header-section-number">2.1.2</span> Out of Sample</h3>
<div class="cell">
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-cc5251d15fc8025eb8c3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cc5251d15fc8025eb8c3">{"x":{"attrs":{"title":"Returns of the Mimicking Portfolio and the IGS","xlabel":"Date","ylabel":"Returns","labels":["month","Mimicking Portfolio","Innovations of the Green Sentiment"],"retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60,"drawAxis":true},"y":{"drawAxis":true}},"colors":["salmon","skyblue"],"series":{"Mimicking Portfolio":{"axis":"y"},"Innovations of the Green Sentiment":{"axis":"y"}},"stackedGraph":false,"fillGraph":false,"fillAlpha":0.15,"stepPlot":false,"drawPoints":false,"pointSize":1,"drawGapEdgePoints":false,"connectSeparatedPoints":false,"strokeWidth":1,"strokeBorderColor":"white","colorValue":0.5,"colorSaturation":1,"includeZero":false,"drawAxesAtZero":false,"logscale":false,"axisTickSize":3,"axisLineColor":"black","axisLineWidth":0.3,"axisLabelColor":"black","axisLabelFontSize":14,"axisLabelWidth":60,"drawGrid":true,"gridLineWidth":0.3,"rightGap":5,"digitsAfterDecimal":2,"labelsKMB":false,"labelsKMG2":false,"labelsUTC":false,"maxNumberWidth":6,"animatedZooms":false,"mobileDisableYTouch":true,"disableZoom":false,"legend":"always","labelsDivWidth":250,"labelsShowZeroValues":true,"labelsSeparateLines":false,"hideOverlayOnMouseOut":false,"showRangeSelector":true,"rangeSelectorHeight":40,"rangeSelectorPlotFillColor":" #A7B1C4","rangeSelectorPlotStrokeColor":"#808FAB","interactionModel":"Dygraph.Interaction.defaultModel"},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2018-11-01T00:00:00.000Z","2018-12-01T00:00:00.000Z","2019-01-01T00:00:00.000Z","2019-02-01T00:00:00.000Z","2019-03-01T00:00:00.000Z","2019-04-01T00:00:00.000Z","2019-05-01T00:00:00.000Z","2019-06-01T00:00:00.000Z","2019-07-01T00:00:00.000Z","2019-08-01T00:00:00.000Z","2019-09-01T00:00:00.000Z","2019-10-01T00:00:00.000Z","2019-11-01T00:00:00.000Z","2019-12-01T00:00:00.000Z","2020-01-01T00:00:00.000Z","2020-02-01T00:00:00.000Z","2020-03-01T00:00:00.000Z","2020-04-01T00:00:00.000Z","2020-05-01T00:00:00.000Z","2020-06-01T00:00:00.000Z","2020-07-01T00:00:00.000Z","2020-08-01T00:00:00.000Z","2020-09-01T00:00:00.000Z","2020-10-01T00:00:00.000Z","2020-11-01T00:00:00.000Z","2020-12-01T00:00:00.000Z","2021-01-01T00:00:00.000Z","2021-02-01T00:00:00.000Z","2021-03-01T00:00:00.000Z","2021-04-01T00:00:00.000Z","2021-05-01T00:00:00.000Z","2021-06-01T00:00:00.000Z","2021-07-01T00:00:00.000Z","2021-08-01T00:00:00.000Z","2021-09-01T00:00:00.000Z","2021-10-01T00:00:00.000Z","2021-11-01T00:00:00.000Z","2021-12-01T00:00:00.000Z","2022-01-01T00:00:00.000Z","2022-02-01T00:00:00.000Z","2022-03-01T00:00:00.000Z","2022-04-01T00:00:00.000Z","2022-05-01T00:00:00.000Z","2022-06-01T00:00:00.000Z","2022-07-01T00:00:00.000Z","2022-08-01T00:00:00.000Z","2022-09-01T00:00:00.000Z","2022-10-01T00:00:00.000Z","2022-11-01T00:00:00.000Z","2022-12-01T00:00:00.000Z","2023-01-01T00:00:00.000Z","2023-02-01T00:00:00.000Z","2023-03-01T00:00:00.000Z","2023-04-01T00:00:00.000Z","2023-05-01T00:00:00.000Z","2023-06-01T00:00:00.000Z","2023-07-01T00:00:00.000Z","2023-08-01T00:00:00.000Z","2023-09-01T00:00:00.000Z","2023-10-01T00:00:00.000Z","2023-11-01T00:00:00.000Z","2023-12-01T00:00:00.000Z","2024-01-01T00:00:00.000Z","2024-02-01T00:00:00.000Z","2024-03-01T00:00:00.000Z","2024-04-01T00:00:00.000Z","2024-05-01T00:00:00.000Z","2024-06-01T00:00:00.000Z","2024-07-01T00:00:00.000Z","2024-08-01T00:00:00.000Z","2024-09-01T00:00:00.000Z"],[-0.007402435860398596,-0.1303014036106427,0.09494352872630694,0.05377794735819483,-0.01461965857225313,0.0145334033764098,-0.08675018307784797,0.04780552522528644,0.00245095249607937,-0.01695422398997062,0.04040633110646642,0.006591031683390087,0.06749259937468297,-0.0004024804027065212,-0.01735247089337914,-0.06962774742621161,-0.2178080216180169,0.1282323824474912,0.07514353033711087,0.004811391482200117,0.08872924028710569,-0.008461669020380671,0.009473122569081954,0.02060059888110951,0.09970023080594936,0.02164079090710789,0.06335998105865781,0.06005578353207876,0.04792520879384245,0.04920744289173797,0.01373605295364206,0.01136083325520403,0.02985733733503968,0.02129907621256603,-0.05103819465955373,0.04084968141264826,-0.02514263261356679,0.05548451580658929,-0.08891089888038653,-0.0002881119684124534,-0.005568479099114621,-0.08204304016650503,0.02063979921800525,-0.08318993454617768,0.07871828349203142,-0.04818365825405209,-0.09290138757564788,0.067309012247611,0.08301424888323154,-0.04037280616668273,0.0573250535966786,-0.02828920845186429,-0.02841458579868153,-0.01063137728920593,-0.02856362919233951,0.06990947967343163,0.02707755061974107,-0.04235136692318752,-0.05831712435053937,-0.0333188328319256,0.0746769625754744,0.05383025461288307,-0.02324183054965184,0.04183648962322081,0.03240839856250823,-0.05599630859722766,0.007859232955853883,-0.02642144416274846,0.08169997371587939,-0.003729064939447817,0.01538158720404174],[-0.03578012195858898,0.01199452299585227,-0.002789765546548709,-0.03601203428676256,-0.0591109196192395,0.01815128313135577,0.03742737975675714,-0.009653905358232184,0.08390628989640542,0.02032865423363892,0.003242609865050552,-0.02026985158825838,0.03929188675098118,0.004424579100942946,0.06135044999773109,0.02354185985388066,-0.0589383452926775,0.02288999379032444,0.1155940975877488,0.07060444437650853,0.06178520328466494,0.03576265909146506,0.02316856996306599,0.04688359673046617,0.06805166029177209,0.1540309243404817,0.09930464319266608,0.05436133069906585,0.0595688351677009,0.04560330245395941,-0.05559709211232169,0.06773849616241755,0.05321741624751179,0.03146710177199269,0.06730540391866527,0.07029831840847683,0.08747620792797928,0.05139828223691145,0.04534442532894276,0.1572839274216457,0.01844326769748303,0.01825422781378286,0.02961775590720434,0.0247080556050995,0.01860195294262518,0.06093423911055741,-0.02578116498531477,0.02852277705537572,0.05808088129509052,-0.05913750869533754,0.02544027713220889,0.01283997992927896,-0.0005460422576804846,0.01152287944930237,0.08962352095094095,-0.03609413531305612,-0.02810866735113886,-0.009306779399102849,-0.001951700003609724,0.05062853447586299,0.0286583479321539,0.06480490330471193,-0.05965411237082947,-0.03612731998205135,-0.03206741111048668,0.03255866420832024,0.0216813618548535,0.09477741046276303,0.1787965578902471,0.1522676985733931,-0.003794252690353161]],"fixedtz":false,"tzone":"UTC"},"evals":["attrs.interactionModel"],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="the-performance-1" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="the-performance-1"><span class="header-section-number">2.2</span> The Performance</h2>
<section id="in-sample-3" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="in-sample-3"><span class="header-section-number">2.2.1</span> In Sample</h3>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Performance of the MCP in Sample</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Correlation</td>
<td style="text-align: right;">0.3509264</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tracking Error</td>
<td style="text-align: right;">0.0694272</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alpha</td>
<td style="text-align: right;">-0.0019180</td>
</tr>
<tr class="even">
<td style="text-align: left;">Beta</td>
<td style="text-align: right;">0.2546226</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.8749720</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The OLS regression is estimated: <span class="math display">\[
R_{MP,t} = \alpha + \hat{\beta} IGS_t + \hat{\gamma}' \text{Factors}_t + \hat{\epsilon}_t
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Regression Results (in sample)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-0.0019180</td>
<td style="text-align: right;">0.0018030</td>
<td style="text-align: right;">-1.063789</td>
<td style="text-align: right;">0.2900123</td>
</tr>
<tr class="even">
<td style="text-align: left;">train_IGS_aligned$IGS_ts</td>
<td style="text-align: right;">0.2546226</td>
<td style="text-align: right;">0.0240276</td>
<td style="text-align: right;">10.597105</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">factors_train$Mkt.RF</td>
<td style="text-align: right;">0.0100774</td>
<td style="text-align: right;">0.0005482</td>
<td style="text-align: right;">18.381680</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">factors_train$SMB</td>
<td style="text-align: right;">0.0045829</td>
<td style="text-align: right;">0.0007758</td>
<td style="text-align: right;">5.907190</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">factors_train$HML</td>
<td style="text-align: right;">0.0024045</td>
<td style="text-align: right;">0.0007902</td>
<td style="text-align: right;">3.042821</td>
<td style="text-align: right;">0.0030011</td>
</tr>
<tr class="even">
<td style="text-align: left;">factors_train$RWTI</td>
<td style="text-align: right;">-0.0363953</td>
<td style="text-align: right;">0.0235581</td>
<td style="text-align: right;">-1.544917</td>
<td style="text-align: right;">0.1255571</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="out-of-sample-3" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="out-of-sample-3"><span class="header-section-number">2.2.2</span> Out of Sample</h3>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Performance of the MCP out of Sample</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Metric</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Correlation</td>
<td style="text-align: right;">0.2231602</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tracking Error</td>
<td style="text-align: right;">0.0701164</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alpha</td>
<td style="text-align: right;">-0.0038602</td>
</tr>
<tr class="even">
<td style="text-align: left;">Beta</td>
<td style="text-align: right;">0.0402820</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R-squared</td>
<td style="text-align: right;">0.8562671</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>The OLS regression is estimated: <span class="math display">\[
R_{MP,t} = \alpha + \hat{\beta} IGS_t + \hat{\gamma}' \text{Factors}_t + \hat{\epsilon}_t
\]</span></p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Regression Results (out of sample)</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">t value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-0.0038602</td>
<td style="text-align: right;">0.0034414</td>
<td style="text-align: right;">-1.1216931</td>
<td style="text-align: right;">0.2661197</td>
</tr>
<tr class="even">
<td style="text-align: left;">factors_test_xtsMkt.RF</td>
<td style="text-align: right;">0.0089929</td>
<td style="text-align: right;">0.0005644</td>
<td style="text-align: right;">15.9324175</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">factors_test_xtsSMB</td>
<td style="text-align: right;">0.0033465</td>
<td style="text-align: right;">0.0010527</td>
<td style="text-align: right;">3.1788427</td>
<td style="text-align: right;">0.0022649</td>
</tr>
<tr class="even">
<td style="text-align: left;">factors_test_xtsHML</td>
<td style="text-align: right;">0.0023894</td>
<td style="text-align: right;">0.0006605</td>
<td style="text-align: right;">3.6175734</td>
<td style="text-align: right;">0.0005818</td>
</tr>
<tr class="odd">
<td style="text-align: left;">factors_test_xtsRWTI</td>
<td style="text-align: right;">0.0173310</td>
<td style="text-align: right;">0.0160048</td>
<td style="text-align: right;">1.0828576</td>
<td style="text-align: right;">0.2828723</td>
</tr>
<tr class="even">
<td style="text-align: left;">factors_test_xtsIGS</td>
<td style="text-align: right;">0.0402820</td>
<td style="text-align: right;">0.0573902</td>
<td style="text-align: right;">0.7018967</td>
<td style="text-align: right;">0.4852494</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="visualization-of-the-beta-evolution-with-lambda" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="visualization-of-the-beta-evolution-with-lambda"><span class="header-section-number">2.3</span> Visualization of the <span class="math inline">\(\beta\)</span> evolution with <span class="math inline">\(\lambda\)</span></h2>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Script2_files/figure-html/betas_lambdas_evol-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Evolution of the IGS betas with different lambdas</figcaption>
</figure>
</div>
</div>
</div>
<p>The performance of the out-of-sample portfolio seems bad as the <span class="math inline">\(\beta\)</span> is not significant and its value is almost equal to 0.</p>
</section>
</section>
<section id="conclusion" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Conclusion</h1>
<p>The method of <span class="citation" data-cites="de2024factor">De Nard, Engle, and Kelly (<a href="#ref-de2024factor" role="doc-biblioref">2024</a>)</span> does not seem to outperform the basic approach of the <em>maximum correlation portfolio</em> (<span class="citation" data-cites="huberman1987mimicking">Huberman, Kandel, and Stambaugh (<a href="#ref-huberman1987mimicking" role="doc-biblioref">1987</a>)</span>).</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-de2024factor" class="csl-entry" role="listitem">
De Nard, Gianluca, Robert F Engle, and Bryan Kelly. 2024. <span>“Factor-Mimicking Portfolios for Climate Risk.”</span> <em>Financial Analysts Journal</em>, 1–22.
</div>
<div id="ref-huberman1987mimicking" class="csl-entry" role="listitem">
Huberman, Gur, Shmuel Kandel, and Robert F Stambaugh. 1987. <span>“Mimicking Portfolios and Exact Arbitrage Pricing.”</span> <em>The Journal of Finance</em> 42 (1): 1–9.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>